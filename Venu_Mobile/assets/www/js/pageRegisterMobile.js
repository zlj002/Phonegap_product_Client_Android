var pRegisterMobile={initialize:function(){this.bindEvents()},bindData:function(){},bindEvents:function(){$("#btnToMobileCode").unbind().on("tap",function(){var e=$("#txtMobileNum").val();var n=/^\d{11}$/;if(!e.match(n)){$.ui.popup({title:"提示",message:"请输入正确的手机号",cancelText:"确定",cancelCallback:function(){},cancelOnly:true})}else{var a=serverHost+"/MobileService/UserService/UserService.asmx/RegisterMobile";$.ui.showMask("请稍等……");var t={schoolID:pmain.getSchoolInfo().ID,mobileNumber:e};$.ajax({type:"Post",contentType:"application/json; charset=utf-8",url:a,data:MY_JSON.stringify(t),dataType:"json",success:function(e){var n=MY_JSON.parse(e.d);if(n.ReturnFlag==1){$.ui.loadContent("#pageMobileCode",false,false,"left")}else{$.ui.popup({title:"提示",message:n.ReturnMessage,cancelText:"确定",cancelCallback:function(){},cancelOnly:true})}$.ui.hideMask()},error:function(e,n,a){$.ui.hideMask();$.ui.popup({title:"提示",message:"短验证码发送失败，请稍后再试",cancelText:"确定",cancelCallback:function(){},cancelOnly:true})}})}})}};