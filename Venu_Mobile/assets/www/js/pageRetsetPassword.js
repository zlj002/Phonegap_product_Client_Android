var pResetPassword={initialize:function(){this.bindEvents()},bindData:function(){},bindEvents:function(){$("#btnResetPasswordToFinished").unbind().on("tap",function(){var e=true;var a=$("#txtResetPwd").val();if(a==""){$.ui.popup({title:"提示",message:"请输入密码",cancelText:"确定",cancelCallback:function(){},cancelOnly:true});e=false}var n=$("#txtResetPwdSure").val();if(n==""){$.ui.popup({title:"提示",message:"请输入确认密码",cancelText:"确定",cancelCallback:function(){},cancelOnly:true});e=false}if(a!=n){$.ui.popup({title:"提示",message:"两次密码不一致",cancelText:"确定",cancelCallback:function(){},cancelOnly:true});e=false}if(a.length<6){$.ui.popup({title:"提示",message:"密码至少6位",cancelText:"确定",cancelCallback:function(){},cancelOnly:true});e=false}if(e){var t=serverHost+"/MobileService/UserService/UserService.asmx/ResetPassword";$.ui.showMask("请稍等……");var c={schoolID:pmain.getSchoolInfo().ID,userID:localMobelInfo.getUserName(),passWord:a};$.ajax({type:"Post",contentType:"application/json; charset=utf-8",url:t,data:MY_JSON.stringify(c),dataType:"json",success:function(e){var a=MY_JSON.parse(e.d);if(a.ReturnFlag==1){$.ui.loadContent("#pagemain",false,false,"left")}else{$.ui.popup({title:"提示",message:a.ReturnMessage,cancelText:"确定",cancelCallback:function(){},cancelOnly:true})}$.ui.hideMask()},error:function(e,a,n){$.ui.hideMask();$.ui.popup({title:"提示",message:"获取数据出错",cancelText:"确定",cancelCallback:function(){},cancelOnly:true})}})}})}};