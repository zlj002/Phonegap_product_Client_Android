var pSetPassword={initialize:function(){this.bindEvents()},bindData:function(){},bindEvents:function(){$("#btnToFinished").unbind().on("tap",function(){var e=true;var a=$("#txtPwd").val();if(a==""){$.ui.popup({title:"提示",message:"请输入密码",cancelText:"确定",cancelCallback:function(){},cancelOnly:true});e=false}var t=$("#txtSurePwd").val();if(t==""){$.ui.popup({title:"提示",message:"请输入确认密码",cancelText:"确定",cancelCallback:function(){},cancelOnly:true});e=false}if(a!=t){$.ui.popup({title:"提示",message:"两次密码不一致",cancelText:"确定",cancelCallback:function(){},cancelOnly:true});e=false}if(a.length<6){$.ui.popup({title:"提示",message:"密码至少6位",cancelText:"确定",cancelCallback:function(){},cancelOnly:true});e=false}if(e){var n=serverHost+"/MobileService/UserService/UserService.asmx/RegisterStudentByMobile";$.ui.showMask("请稍等……");var l={entity:MY_JSON.stringify({LoginID:$("#txtMobileNum").val(),SchoolID:pmain.getSchoolInfo().ID,SpecialtyID:pmain.getFacultyInfo().ID,StartYear:$("#optYears").val(),MobileNumber:$("#txtMobileNum").val(),PassWord:a})};$.ajax({type:"Post",contentType:"application/json; charset=utf-8",url:n,data:MY_JSON.stringify(l),dataType:"json",success:function(e){var t=MY_JSON.parse(e.d);if(t.ReturnFlag==1){login.login(pmain.getSchoolInfo().ID,$("#txtMobileNum").val(),a)}else{$.ui.popup({title:"提示",message:t.ReturnMessage,cancelText:"确定",cancelCallback:function(){},cancelOnly:true})}$.ui.hideMask()},error:function(e,a,t){$.ui.hideMask();$.ui.popup({title:"提示",message:"获取数据出错",cancelText:"确定",cancelCallback:function(){},cancelOnly:true})}})}})}};